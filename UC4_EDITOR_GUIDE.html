<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UC4 SysEx Editor â€” Usage Guide</title>
    <style>
        :root {
            --bg: #0a0a0f;
            --bg-card: #12121a;
            --bg-code: #1a1a24;
            --text: #e8e8e8;
            --text-dim: #888;
            --accent: #00ffaa;
            --accent-dim: #00aa77;
            --border: #2a2a3a;
            --warning: #ffaa00;
        }
        
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
            margin: 0;
            padding: 2rem;
            max-width: 900px;
            margin: 0 auto;
        }
        
        h1 {
            color: var(--accent);
            font-size: 2.5rem;
            border-bottom: 2px solid var(--accent);
            padding-bottom: 1rem;
            margin-bottom: 0.5rem;
        }
        
        h1 + p {
            color: var(--text-dim);
            font-size: 1.1rem;
            margin-bottom: 3rem;
        }
        
        h2 {
            color: var(--accent);
            font-size: 1.5rem;
            margin-top: 3rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
        }
        
        h3 {
            color: var(--text);
            font-size: 1.2rem;
            margin-top: 2rem;
        }
        
        a {
            color: var(--accent);
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        pre {
            background: var(--bg-code);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 1rem 1.5rem;
            overflow-x: auto;
            font-family: 'SF Mono', 'Consolas', 'Monaco', monospace;
            font-size: 0.85rem;
            line-height: 1.5;
        }
        
        code {
            background: var(--bg-code);
            padding: 0.15rem 0.4rem;
            border-radius: 3px;
            font-family: 'SF Mono', 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }
        
        pre code {
            background: none;
            padding: 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        
        th, td {
            border: 1px solid var(--border);
            padding: 0.6rem 1rem;
            text-align: left;
        }
        
        th {
            background: var(--bg-card);
            color: var(--accent);
            font-weight: 600;
        }
        
        tr:nth-child(even) {
            background: var(--bg-card);
        }
        
        blockquote {
            border-left: 3px solid var(--accent);
            margin: 1rem 0;
            padding: 0.5rem 1rem;
            background: var(--bg-card);
            color: var(--text-dim);
        }
        
        hr {
            border: none;
            border-top: 1px solid var(--border);
            margin: 3rem 0;
        }
        
        .toc {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 1.5rem 2rem;
            margin: 2rem 0;
        }
        
        .toc h2 {
            margin-top: 0;
            padding-top: 0;
            border-top: none;
        }
        
        .toc ol {
            margin: 0;
            padding-left: 1.5rem;
        }
        
        .toc li {
            margin: 0.4rem 0;
        }
        
        .warning {
            background: rgba(255, 170, 0, 0.15);
            border: 1px solid var(--warning);
            border-radius: 6px;
            padding: 1rem 1.5rem;
            margin: 1rem 0;
        }
        
        .warning::before {
            content: 'âš  ';
            color: var(--warning);
        }
        
        .tip {
            background: rgba(0, 255, 170, 0.1);
            border: 1px solid var(--accent);
            border-radius: 6px;
            padding: 1rem 1.5rem;
            margin: 1rem 0;
        }
        
        .tip::before {
            content: 'ğŸ’¡ ';
        }
        
        ul, ol {
            padding-left: 1.5rem;
        }
        
        li {
            margin: 0.3rem 0;
        }
        
        strong {
            color: var(--accent);
        }
    </style>
</head>
<body>
    <h1>UC4 SysEx Editor</h1>
    <p>Complete Usage Guide â€” A web-based configuration editor for the Faderfox UC4 MIDI controller</p>
    
    <div class="toc">
        <h2>Table of Contents</h2>
        <ol>
            <li><a href="#quick-start">Quick Start</a></li>
            <li><a href="#interface">Interface Overview</a></li>
            <li><a href="#files">Working with Files</a></li>
            <li><a href="#navigation">Navigating Setups &amp; Groups</a></li>
            <li><a href="#focused">Focused View â€” Detailed Editing</a></li>
            <li><a href="#overview">Overview Mode â€” See Everything</a></li>
            <li><a href="#quickpaste">Quick Copy/Paste â€” Rapid Configuration</a></li>
            <li><a href="#setupmanager">Setup Manager â€” Organize Your Setups</a></li>
            <li><a href="#conflicts">Conflict Detection</a></li>
            <li><a href="#contextmenu">Context Menu Copy &amp; Paste</a></li>
            <li><a href="#undo">Undo, Redo &amp; Reset</a></li>
            <li><a href="#session">Session Persistence</a></li>
            <li><a href="#shortcuts">Keyboard Shortcuts</a></li>
            <li><a href="#workflows">Workflow Examples</a></li>
            <li><a href="#validation">Validation &amp; Troubleshooting</a></li>
        </ol>
    </div>

    <h2 id="quick-start">Quick Start</h2>
    <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Open editor        â†’  Factory defaults load automatically  â”‚
â”‚  2. Select Setup 1-18  â†’  Pick which setup to edit            â”‚
â”‚  3. Edit in Focused    â†’  Change individual parameters        â”‚
â”‚  4. Check in Overview  â†’  See all 64 controls at once         â”‚
â”‚  5. Export .syx        â†’  Send to UC4 via MIDI                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>
    <p><strong>That's it!</strong> The editor auto-loads factory defaults so you can start immediately.</p>

    <h2 id="interface">Interface Overview</h2>
    
    <h3>Header Elements</h3>
    <table>
        <tr><th>Button</th><th>What It Does</th></tr>
        <tr><td>Import SysEx</td><td>Load a .syx dump from your UC4</td></tr>
        <tr><td>Export SysEx</td><td>Save changes as .syx to send back to UC4</td></tr>
        <tr><td>Import JSON</td><td>Load a human-readable JSON backup</td></tr>
        <tr><td>Export JSON</td><td>Save human-readable JSON (great for git!)</td></tr>
        <tr><td>â†¶ Undo</td><td>Reverse your last change</td></tr>
        <tr><td>â†· Redo</td><td>Replay an undone change</td></tr>
        <tr><td>Manage Setups</td><td>Open Setup Manager for bulk operations</td></tr>
    </table>

    <h3>Navigation Elements</h3>
    <table>
        <tr><th>Element</th><th>What It Does</th></tr>
        <tr><td>Setup [â–¾]</td><td>Choose which of the 18 setups to edit</td></tr>
        <tr><td>ğŸ”— Link</td><td>Sync encoder and fader groups together</td></tr>
        <tr><td>Encoder Grp [1-8]</td><td>Select group for encoders + push buttons</td></tr>
        <tr><td>Fader/Btn [1-8]</td><td>Select group for faders + green buttons</td></tr>
        <tr><td>GrP1</td><td>Shows the 4-character group name from UC4</td></tr>
        <tr><td>Focused / Overview</td><td>Toggle between edit modes</td></tr>
    </table>

    <h3>Status Bar</h3>
    <table>
        <tr><th>Indicator</th><th>Meaning</th></tr>
        <tr><td>â— Modified</td><td>You have unsaved changes</td></tr>
        <tr><td>â—‹ (outline)</td><td>Data matches last saved state</td></tr>
        <tr><td>100,640 bytes</td><td>Valid UC4 dump is loaded</td></tr>
    </table>

    <h2 id="files">Working with Files</h2>

    <h3>SysEx Files (.syx)</h3>
    <p>The native format for UC4 data.</p>
    <p><strong>Import:</strong></p>
    <ol>
        <li>Click <strong>Import SysEx</strong></li>
        <li>Select a .syx file (must be exactly 100,640 bytes)</li>
        <li>File loads immediately</li>
    </ol>
    <p><strong>Export:</strong></p>
    <ol>
        <li>Click <strong>Export SysEx</strong></li>
        <li>File downloads to your Downloads folder</li>
        <li>Send this file to your UC4 via MIDI</li>
    </ol>

    <h3>JSON Files</h3>
    <p>Human-readable format, great for backups and version control.</p>
    <p><strong>Import:</strong></p>
    <ol>
        <li>Click <strong>Import JSON</strong></li>
        <li>Select a .json file exported from this editor</li>
        <li>All 18 setups are loaded</li>
    </ol>

    <h3>Single Setup JSON</h3>
    <p>Export and import individual setups via the Setup Manager.</p>
    <p><strong>Export Single Setup:</strong></p>
    <ol>
        <li>Click <strong>Manage Setups</strong></li>
        <li>Select one setup</li>
        <li>Click <strong>Export</strong></li>
        <li>Choose filename and save</li>
    </ol>
    <p><strong>Import to Slot:</strong></p>
    <ol>
        <li>Click <strong>Manage Setups</strong></li>
        <li>Click <strong>Import</strong></li>
        <li>Select single-setup JSON file</li>
        <li>Choose target slot</li>
        <li>Click <strong>Import</strong></li>
    </ol>

    <h2 id="navigation">Navigating Setups &amp; Groups</h2>

    <h3>The UC4's Two-Domain System</h3>
    <p>The UC4 has <strong>two independent group selectors</strong>:</p>
    <pre>
ENCODER DOMAIN (Shift + Encoder 1-8)
â”œâ”€â”€ 8 Encoders
â””â”€â”€ 8 Push Buttons

FADER/BUTTON DOMAIN (Shift + Green 1-8)
â”œâ”€â”€ 8 Faders (1-8)
â”œâ”€â”€ 8 Green Buttons
â””â”€â”€ Fader 9</pre>
    <p>You can be on Encoder Group 3 while Fader Group 7 is active. They're independent!</p>

    <h3>Link Groups Toggle</h3>
    <p><strong>Enabled (ğŸ”— checked):</strong></p>
    <ul>
        <li>Clicking any group tab sets BOTH domains to that group</li>
        <li>Useful when your groups are organized by channel (Group 1 = Ch1, etc.)</li>
    </ul>
    <p><strong>Disabled:</strong></p>
    <ul>
        <li>Encoder and Fader groups are independent</li>
        <li>Matches actual UC4 hardware behavior</li>
    </ul>

    <h2 id="focused">Focused View â€” Detailed Editing</h2>
    <p>The default editing mode, showing one group at a time with full parameter access.</p>

    <h3>Section Order</h3>
    <ol>
        <li><strong>Faders</strong> (from Fader group)</li>
        <li><strong>Green Buttons</strong> (from Fader group)</li>
        <li><strong>Encoders</strong> (from Encoder group)</li>
        <li><strong>Push Buttons</strong> (from Encoder group)</li>
        <li><strong>Fader 9</strong> (from Fader group)</li>
    </ol>

    <h3>Contextual Tooltips</h3>
    <div class="tip">
        <strong>Hover over any parameter label or dropdown option to see explanations!</strong>
    </div>
    <table>
        <tr><th>Example</th><th>Tooltip</th></tr>
        <tr><td>Hover over <strong>Chan</strong></td><td>"MIDI channel (1-16). Controls which channel receives messages."</td></tr>
        <tr><td>Hover over <strong>CCr1</strong> option</td><td>"Relative mode 1. Sends 1 for clockwise, 127 for counter-clockwise. Best for Ableton, Bitwig."</td></tr>
        <tr><td>Hover over <strong>Acc</strong></td><td>"Acceleration sensitivity. Higher values = faster response to quick turns."</td></tr>
    </table>

    <h3>Control Parameters</h3>
    <p><strong>Encoder:</strong></p>
    <table>
        <tr><th>Param</th><th>Range</th><th>Description</th></tr>
        <tr><td>Chan</td><td>1-16</td><td>MIDI channel</td></tr>
        <tr><td>CC</td><td>0-127</td><td>Controller number</td></tr>
        <tr><td>Type</td><td>CCr1/CCr2/CCAb/PrGC/CCAh/Pbnd/AFtt</td><td>Message type</td></tr>
        <tr><td>Acc</td><td>0-4</td><td>Acceleration sensitivity</td></tr>
        <tr><td>Disp</td><td>0-4</td><td>Display mode on UC4</td></tr>
        <tr><td>Min</td><td>0-127</td><td>Minimum output value</td></tr>
        <tr><td>Max</td><td>0-127</td><td>Maximum output value</td></tr>
    </table>

    <p><strong>Push/Green Button:</strong></p>
    <table>
        <tr><th>Param</th><th>Range</th><th>Description</th></tr>
        <tr><td>Chan</td><td>1-16</td><td>MIDI channel</td></tr>
        <tr><td>Type</td><td>Note/CC/PrGC/AFtt/Off</td><td>Message type</td></tr>
        <tr><td>Note/CC</td><td>0-127</td><td>Note or CC number</td></tr>
        <tr><td>Lower</td><td>0-127</td><td>Value on release</td></tr>
        <tr><td>Upper</td><td>0-127</td><td>Value on press</td></tr>
        <tr><td>Mode</td><td>Momentary/Toggle/Step</td><td>Button behavior</td></tr>
    </table>

    <p><strong>Fader:</strong></p>
    <table>
        <tr><th>Param</th><th>Range</th><th>Description</th></tr>
        <tr><td>Chan</td><td>1-16</td><td>MIDI channel</td></tr>
        <tr><td>CC</td><td>0-127</td><td>Controller number</td></tr>
        <tr><td>Type</td><td>CCAb/PrGC/Pbnd/AFtt</td><td>Message type</td></tr>
        <tr><td>Min</td><td>0-127</td><td>Value at bottom</td></tr>
        <tr><td>Max</td><td>0-127</td><td>Value at top</td></tr>
    </table>

    <h2 id="overview">Overview Mode â€” See Everything</h2>
    <p>Grid view showing all controls across all 8 groups simultaneously.</p>

    <h3>Tabs</h3>
    <table>
        <tr><th>Tab</th><th>What It Shows</th></tr>
        <tr><td><strong>All</strong></td><td>All control types stacked vertically</td></tr>
        <tr><td><strong>Encoders</strong></td><td>8Ã—8 grid of encoders only</td></tr>
        <tr><td><strong>Push</strong></td><td>8Ã—8 grid of push buttons</td></tr>
        <tr><td><strong>Green</strong></td><td>8Ã—8 grid of green buttons</td></tr>
        <tr><td><strong>Faders</strong></td><td>8Ã—8 fader grid + fader9 row</td></tr>
    </table>

    <h3>Cell Format</h3>
    <p>Each cell shows: <code>Channel:Type CC#</code></p>
    <table>
        <tr><th>Display</th><th>Meaning</th></tr>
        <tr><td><code>1:CC 64</code></td><td>Channel 1, CC, number 64</td></tr>
        <tr><td><code>2:Nt 60</code></td><td>Channel 2, Note, number 60</td></tr>
        <tr><td><code>3:PC 0</code></td><td>Channel 3, Program Change, number 0</td></tr>
        <tr><td><code>1:PB --</code></td><td>Channel 1, Pitch Bend</td></tr>
        <tr><td><code>1:AT --</code></td><td>Channel 1, Aftertouch</td></tr>
    </table>

    <h3>Cell Interactions</h3>
    <table>
        <tr><th>Action</th><th>Result</th></tr>
        <tr><td><strong>Single-click</strong></td><td>Select cell (green outline)</td></tr>
        <tr><td><strong>Double-click</strong></td><td>Jump to Focused view</td></tr>
        <tr><td><strong>Right-click</strong></td><td>Context menu + select</td></tr>
        <tr><td><strong>Hover (in Quick Paste)</strong></td><td>Preview paste target</td></tr>
    </table>

    <h2 id="quickpaste">Quick Copy/Paste â€” Rapid Configuration</h2>
    <p>The fastest way to copy/paste in Overview mode. Press <strong>Q</strong> to activate.</p>

    <h3>Quick Paste Toolbar</h3>
    <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mode [Off][Copy][Paste]   Scope [Cell][Column][Row]              â”‚
â”‚ Source: Enc G1.1          Ch [+1â–¾]  CC [0â–¾]   [Clear Source]     â”‚
â”‚ Status: Click to paste â€¢ 3 pasted                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>

    <h3>Workflow</h3>
    <ol>
        <li><strong>Press Q</strong> or click <strong>Copy</strong> â€” Enter Quick Paste mode</li>
        <li><strong>Select scope</strong>: Cell (1), Column (2), or Row (3)</li>
        <li><strong>Click a cell</strong> â€” Copies source and switches to Paste mode</li>
        <li><strong>Click target cells</strong> â€” Pastes with offsets applied</li>
        <li><strong>Press Q</strong> again â€” Exit Quick Paste mode</li>
    </ol>

    <h3>Channel/CC Multipliers</h3>
    <p>The multipliers apply offsets based on the group difference between source and target.</p>
    <p><strong>Formula:</strong> <code>offset = (targetGroup - sourceGroup) Ã— multiplier</code></p>
    <p><strong>Example with Ch=+1, CC=0:</strong></p>
    <table>
        <tr><th>Source</th><th>Target</th><th>Group Diff</th><th>Channel Offset</th></tr>
        <tr><td>G1</td><td>G2</td><td>1</td><td>+1</td></tr>
        <tr><td>G1</td><td>G3</td><td>2</td><td>+2</td></tr>
        <tr><td>G1</td><td>G5</td><td>4</td><td>+4</td></tr>
    </table>
    <p>So copying from G1 Ch1 to G3 with Ch=+1 results in Ch3.</p>

    <h3>Scope Options</h3>
    <table>
        <tr><th>Scope</th><th>What's Copied</th><th>What's Pasted</th></tr>
        <tr><td><strong>Cell</strong></td><td>One control</td><td>One control</td></tr>
        <tr><td><strong>Column</strong></td><td>All 8 controls in group</td><td>All 8 controls in target group</td></tr>
        <tr><td><strong>Row</strong></td><td>One control from all 8 groups</td><td>Same row across 8 groups</td></tr>
    </table>

    <h3>Visual Feedback</h3>
    <ul>
        <li><strong>Green highlight</strong>: Source cells</li>
        <li><strong>Cyan outline</strong>: Paste preview (hover)</li>
        <li><strong>Toast message</strong>: Confirms each paste</li>
    </ul>

    <h3>Keyboard Shortcuts</h3>
    <table>
        <tr><th>Key</th><th>Action</th></tr>
        <tr><td><strong>Q</strong></td><td>Toggle Quick Paste on/off</td></tr>
        <tr><td><strong>1</strong></td><td>Cell scope</td></tr>
        <tr><td><strong>2</strong></td><td>Column scope</td></tr>
        <tr><td><strong>3</strong></td><td>Row scope</td></tr>
    </table>

    <h2 id="setupmanager">Setup Manager â€” Organize Your Setups</h2>
    <p>Manage entire setups: label, copy, swap, clear, reset, export, import.</p>

    <h3>Opening Setup Manager</h3>
    <p>Click <strong>[Manage Setups]</strong> in the header.</p>

    <h3>Setup Grid</h3>
    <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Setup Manager                                            [Ã—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1: Synth      2: Drums     3: (factory)  4: FX               â”‚
â”‚  5            6: Keys       7            8                     â”‚
â”‚  9            10           11           12                     â”‚
â”‚  13           14           15           16                     â”‚
â”‚  17: Ableton  18: Ableton                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Label] [Clear] [Copy] [Swap] [Reset] [Export] [Import]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>

    <h3>Visual Indicators</h3>
    <ul>
        <li><strong>Accent border</strong>: Setup has been modified</li>
        <li><strong>(factory)</strong>: Setup matches factory defaults</li>
        <li><strong>Label text</strong>: Custom label you've assigned</li>
    </ul>

    <h3>Selection</h3>
    <ul>
        <li><strong>Click</strong>: Select one setup</li>
        <li><strong>Ctrl+Click</strong>: Multi-select (add/remove from selection)</li>
        <li><strong>Click empty area</strong>: Deselect all</li>
    </ul>

    <h3>Operations</h3>
    <table>
        <tr><th>Button</th><th>Requires</th><th>Action</th></tr>
        <tr><td><strong>Label</strong></td><td>1 setup</td><td>Assign a name (stored in browser, not SysEx)</td></tr>
        <tr><td><strong>Clear</strong></td><td>1+ setups</td><td>Zero out all parameters</td></tr>
        <tr><td><strong>Copy</strong></td><td>1 setup</td><td>Duplicate to other slot(s)</td></tr>
        <tr><td><strong>Swap</strong></td><td>2 setups</td><td>Exchange two setups</td></tr>
        <tr><td><strong>Reset</strong></td><td>1+ setups</td><td>Restore factory defaults</td></tr>
        <tr><td><strong>Export</strong></td><td>1 setup</td><td>Save as single-setup JSON</td></tr>
        <tr><td><strong>Import</strong></td><td>â€”</td><td>Load single-setup JSON to a slot</td></tr>
    </table>

    <h3>Labels</h3>
    <p>Labels are stored in your browser (localStorage), not in the SysEx file. They appear in:</p>
    <ul>
        <li>Setup dropdown: "1: Synth"</li>
        <li>Setup Manager grid</li>
        <li>Export filenames (suggested)</li>
    </ul>

    <h2 id="conflicts">Conflict Detection</h2>
    <p>Automatically finds MIDI assignment conflicts.</p>

    <h3>Conflict Types</h3>
    <table>
        <tr><th>Type</th><th>Description</th><th>Severity</th></tr>
        <tr><td><strong>Concurrent</strong></td><td>Same message from controls active at the same time</td><td>âš ï¸ Fix these!</td></tr>
        <tr><td><strong>Mutually-Exclusive</strong></td><td>Same message in different groups</td><td>Usually OK</td></tr>
    </table>

    <h3>Understanding Conflicts</h3>
    <p><strong>Concurrent conflicts</strong> happen when two controls in the same active domain send identical messages. Examples:</p>
    <ul>
        <li>Encoder 1 and Encoder 3 both send Ch1 CC64 (same group)</li>
        <li>Fader 1 and Green Button 1 both send Ch1 CC64 (same fader group)</li>
    </ul>
    <p><strong>Mutually-exclusive conflicts</strong> happen across different groupsâ€”only one can be active at a time, so usually intentional.</p>

    <h3>Filter Chips</h3>
    <pre>[âœ“ Concurrent (3)] [â–¡ Mutually-Exclusive (12)]</pre>
    <p>Click to show/hide each conflict type in the grid.</p>

    <h2 id="contextmenu">Context Menu Copy &amp; Paste</h2>
    <p>Right-click in Overview mode for advanced copy/paste operations.</p>

    <h3>Copy Scopes</h3>
    <table>
        <tr><th>Menu Item</th><th>What's Copied</th></tr>
        <tr><td><strong>Copy Control</strong></td><td>Single cell (one control)</td></tr>
        <tr><td><strong>Copy Row</strong></td><td>Same control index across all 8 groups</td></tr>
        <tr><td><strong>Copy Column</strong></td><td>All controls in one group</td></tr>
    </table>

    <h3>Paste Special Dialog</h3>
    <p>Opens a dialog with transform options:</p>
    <table>
        <tr><th>Option</th><th>Range</th><th>Description</th></tr>
        <tr><td><strong>Channel offset</strong></td><td>-15 to +15</td><td>Shift MIDI channel</td></tr>
        <tr><td><strong>CC/Number offset</strong></td><td>-127 to +127</td><td>Shift CC or note number</td></tr>
        <tr><td><strong>Auto-increment</strong></td><td>Any integer</td><td>Add sequential offset per target</td></tr>
        <tr><td><strong>Wrap mode</strong></td><td>Clamp / Wrap</td><td>Out-of-range behavior</td></tr>
    </table>

    <h2 id="undo">Undo, Redo &amp; Reset</h2>
    <p>Full edit history with intelligent coalescing.</p>

    <h3>What's Tracked</h3>
    <ul>
        <li>Individual parameter changes</li>
        <li>Batch operations (paste to row/column)</li>
        <li>Setup Manager operations (copy, swap, clear, reset)</li>
        <li>Label changes</li>
    </ul>

    <h3>Coalescing</h3>
    <p>Rapid edits to the same parameter (within 1 second) are combined into one undo step. This means dragging a slider doesn't create 50 undo entries.</p>

    <h3>Limits</h3>
    <ul>
        <li>100 undo steps maximum</li>
        <li>Oldest actions are dropped when limit reached</li>
    </ul>

    <h3>Shortcuts</h3>
    <table>
        <tr><th>Action</th><th>Windows/Linux</th><th>Mac</th></tr>
        <tr><td>Undo</td><td>Ctrl+Z</td><td>Cmd+Z</td></tr>
        <tr><td>Redo</td><td>Ctrl+Shift+Z</td><td>Cmd+Shift+Z</td></tr>
        <tr><td>Redo (alt)</td><td>Ctrl+Y</td><td>â€”</td></tr>
    </table>

    <h2 id="session">Session Persistence</h2>
    <p>Auto-saves your work to browser storage.</p>

    <h3>How It Works</h3>
    <ul>
        <li>Changes are saved every 2 seconds</li>
        <li>Survives page refresh and browser restart</li>
        <li>Only prompts to restore if you have unsaved changes</li>
    </ul>

    <h3>When Session Clears</h3>
    <ul>
        <li>After Export SysEx</li>
        <li>After Export JSON</li>
        <li>After Import (new file replaces session)</li>
        <li>After clicking Discard</li>
    </ul>

    <h2 id="shortcuts">Keyboard Shortcuts</h2>

    <h3>Global</h3>
    <table>
        <tr><th>Key</th><th>Action</th></tr>
        <tr><td>Ctrl+Z</td><td>Undo</td></tr>
        <tr><td>Ctrl+Shift+Z</td><td>Redo</td></tr>
        <tr><td>Ctrl+Y</td><td>Redo (alternate)</td></tr>
    </table>

    <h3>Overview Mode</h3>
    <table>
        <tr><th>Key</th><th>Action</th></tr>
        <tr><td>â†‘â†“â†â†’</td><td>Move selection</td></tr>
        <tr><td>Enter</td><td>Jump to Focused view for selected cell</td></tr>
        <tr><td>Tab</td><td>Move right</td></tr>
        <tr><td>Shift+Tab</td><td>Move left</td></tr>
        <tr><td>Escape</td><td>Clear selection</td></tr>
        <tr><td>Ctrl+C</td><td>Copy selected control</td></tr>
        <tr><td>Ctrl+V</td><td>Paste to selected</td></tr>
    </table>

    <h3>Quick Paste</h3>
    <table>
        <tr><th>Key</th><th>Action</th></tr>
        <tr><td>Q</td><td>Toggle Quick Paste mode</td></tr>
        <tr><td>1</td><td>Cell scope</td></tr>
        <tr><td>2</td><td>Column scope</td></tr>
        <tr><td>3</td><td>Row scope</td></tr>
    </table>

    <h2 id="workflows">Workflow Examples</h2>

    <h3>Create a Channel-Per-Group Setup</h3>
    <p><strong>Goal:</strong> Group 1 = Channel 1, Group 2 = Channel 2, etc.</p>
    <p><strong>Method (Quick Paste):</strong></p>
    <ol>
        <li>Configure Group 1 exactly as you want (all controls on Ch1)</li>
        <li>Switch to <strong>Overview</strong> â†’ <strong>Encoders</strong> tab</li>
        <li>Press <strong>Q</strong> â†’ select <strong>Column</strong> scope</li>
        <li>Set <strong>Ch</strong> to <strong>+1</strong>, <strong>CC</strong> to <strong>0</strong></li>
        <li>Click any cell in Group 1 (copies whole column)</li>
        <li>Click Group 2, 3, 4... headers (pastes with channel offset)</li>
        <li>Repeat for Push, Green, Faders tabs</li>
    </ol>
    <p><strong>Time:</strong> ~2 minutes for complete setup</p>

    <h3>Sequential CCs Across a Row</h3>
    <p><strong>Goal:</strong> Encoder 1 in all groups = CC1, CC2, CC3...CC8</p>
    <p><strong>Method (Context Menu):</strong></p>
    <ol>
        <li>Overview â†’ Encoders tab</li>
        <li>Right-click Enc 1, Group 1 â†’ <strong>Copy Control</strong></li>
        <li>Right-click same cell â†’ <strong>Paste Special...</strong></li>
        <li>Set <strong>Auto-increment CC by:</strong> 1</li>
        <li><strong>Paste to:</strong> Entire row</li>
        <li>Click <strong>Paste</strong></li>
    </ol>
    <p><strong>Result:</strong> G1=CC1, G2=CC2, G3=CC3...</p>

    <h3>Prepare Setups for Live Show</h3>
    <ol>
        <li><strong>Label your setups:</strong> Setup Manager â†’ select setup â†’ Label â†’ "Opener", "Main", "Encore"</li>
        <li><strong>Check for conflicts:</strong> Overview mode â†’ ensure Concurrent count is 0</li>
        <li><strong>Export backup:</strong> Export JSON â†’ save as "live-show-backup.json"</li>
        <li><strong>Export SysEx:</strong> Export SysEx â†’ send to UC4</li>
        <li><strong>Test on hardware:</strong> Verify all setups work correctly</li>
    </ol>

    <h2 id="validation">Validation &amp; Troubleshooting</h2>

    <h3>"Invalid file size" Error</h3>
    <p><strong>Cause:</strong> The file isn't a complete UC4 dump.</p>
    <p><strong>Fix:</strong> Use "Send All Setups" from UC4, not single-setup dump.</p>

    <h3>Changes Don't Appear on UC4</h3>
    <p><strong>Checklist:</strong></p>
    <ol>
        <li>Did you click <strong>Export SysEx</strong>? (JSON won't work)</li>
        <li>Did you <strong>send</strong> the .syx file to UC4 via MIDI?</li>
        <li>Is UC4 ready to receive? (Check manual for receive mode)</li>
    </ol>

    <h3>Lost My Edits</h3>
    <ol>
        <li><strong>Refresh the page</strong> â€” Look for restore dialog</li>
        <li><strong>Check Downloads</strong> â€” Look for exported files</li>
        <li><strong>Check for JSON backup</strong> â€” You did export JSON, right?</li>
    </ol>
    <div class="tip">
        <strong>Prevention:</strong> Export JSON frequently as backup!
    </div>

    <h3>Conflicts Everywhere</h3>
    <p><strong>This is normal for factory defaults!</strong></p>
    <p>Factory config uses identical settings across groups intentionally.</p>
    <ul>
        <li><strong>Mutually-Exclusive:</strong> Different groups, same message (OK)</li>
        <li><strong>Concurrent:</strong> Same group, same message (fix these)</li>
    </ul>
    <p>Use filter chips to show only Concurrent conflicts.</p>

    <h3>Quick Paste Not Working</h3>
    <ol>
        <li><strong>Are you in Overview mode?</strong> Quick Paste only works there.</li>
        <li><strong>Is the toolbar visible?</strong> Press Q to toggle.</li>
        <li><strong>Did you set a source?</strong> Click a cell in Copy mode first.</li>
        <li><strong>Same control type?</strong> Can't paste encoders to faders.</li>
    </ol>

    <h3>Tooltips Not Showing</h3>
    <ol>
        <li><strong>Wait 500ms</strong> â€” There's a delay before tooltips appear</li>
        <li><strong>Focused view only</strong> â€” Tooltips only show in Focused view</li>
        <li><strong>Hover over labels</strong> â€” Not the input fields</li>
    </ol>

    <hr>

    <h2>UC4 Parameter Reference</h2>

    <h3>Encoder Types</h3>
    <table>
        <tr><th>Type</th><th>Description</th></tr>
        <tr><td><strong>CCr1</strong></td><td>Relative mode 1 (1/127). Best for Ableton, Bitwig.</td></tr>
        <tr><td><strong>CCr2</strong></td><td>Relative mode 2 (65/63). Alternative relative format.</td></tr>
        <tr><td><strong>CCAb</strong></td><td>Absolute 7-bit CC. Standard 0-127 range.</td></tr>
        <tr><td><strong>PrGC</strong></td><td>Program Change. Turn to increment/decrement.</td></tr>
        <tr><td><strong>CCAh</strong></td><td>High-resolution 14-bit CC. Uses CC and CC+32.</td></tr>
        <tr><td><strong>Pbnd</strong></td><td>Pitch Bend. Full -8192 to +8191 range.</td></tr>
        <tr><td><strong>AFtt</strong></td><td>Channel Aftertouch.</td></tr>
    </table>

    <h3>Button Types</h3>
    <table>
        <tr><th>Type</th><th>Description</th></tr>
        <tr><td><strong>Note</strong></td><td>Standard MIDI note on/off.</td></tr>
        <tr><td><strong>CC</strong></td><td>Control Change message.</td></tr>
        <tr><td><strong>PrGC</strong></td><td>Program Change on press.</td></tr>
        <tr><td><strong>AFtt</strong></td><td>Channel Aftertouch.</td></tr>
        <tr><td><strong>Off</strong></td><td>Button disabled.</td></tr>
    </table>

    <h3>Button Modes</h3>
    <table>
        <tr><th>Mode</th><th>Description</th></tr>
        <tr><td><strong>Momentary</strong></td><td>Upper on press, Lower on release.</td></tr>
        <tr><td><strong>Toggle</strong></td><td>Alternates between Upper and Lower.</td></tr>
        <tr><td><strong>Step</strong></td><td>Increments through range.</td></tr>
    </table>

    <h3>Fader Types</h3>
    <table>
        <tr><th>Type</th><th>Description</th></tr>
        <tr><td><strong>CCAb</strong></td><td>Absolute CC. Standard fader mode.</td></tr>
        <tr><td><strong>PrGC</strong></td><td>Program Change across range.</td></tr>
        <tr><td><strong>Pbnd</strong></td><td>Pitch Bend.</td></tr>
        <tr><td><strong>AFtt</strong></td><td>Channel Aftertouch.</td></tr>
    </table>

    <hr>

    <h2>Getting More Help</h2>
    <ul>
        <li><strong>[? Guide]</strong> button in editor â†’ Opens this guide</li>
        <li><strong><a href="HOWTO.md">HOWTO.md</a></strong> â†’ Practical workflow examples</li>
        <li><strong><a href="SPECIFICATION.md">SPECIFICATION.md</a></strong> â†’ Technical details</li>
        <li><strong>UC4 Manual</strong> â†’ Official Faderfox documentation</li>
    </ul>

</body>
</html>
